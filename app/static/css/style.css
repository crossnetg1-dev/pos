/* ============================================
   Dark Mode Global Fixes
   ============================================ */

/* CRITICAL: Prevent white flash - set background immediately */
[data-bs-theme="dark"] {
  color-scheme: dark;
  background-color: #212529 !important;
}

[data-bs-theme="dark"] html {
  background-color: #212529 !important;
}

[data-bs-theme="dark"] body {
  background-color: #212529 !important; /* Bootstrap Dark BG */
  color: #fff !important;
}

/* Global Text - Ensure text is always visible */

[data-bs-theme="dark"] body,
[data-bs-theme="dark"] .main-content,
[data-bs-theme="dark"] p,
[data-bs-theme="dark"] span,
[data-bs-theme="dark"] div,
[data-bs-theme="dark"] label,
[data-bs-theme="dark"] small {
  color: var(--bs-body-color) !important;
}

[data-bs-theme="dark"] h1,
[data-bs-theme="dark"] h2,
[data-bs-theme="dark"] h3,
[data-bs-theme="dark"] h4,
[data-bs-theme="dark"] h5,
[data-bs-theme="dark"] h6 {
  color: var(--bs-heading-color) !important;
}

/* ============================================
   Tables - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .table {
  --bs-table-bg: #212529;
  --bs-table-color: #fff;
  --bs-table-border-color: #373b3e;
  color: var(--bs-table-color) !important;
}

[data-bs-theme="dark"] .table thead th {
  background-color: #1a1d20;
  color: #fff !important;
  border-bottom-color: #373b3e !important;
  border-top-color: #373b3e !important;
}

[data-bs-theme="dark"] .table tbody td {
  border-color: #373b3e !important;
  color: #fff !important;
}

[data-bs-theme="dark"] .table tbody tr {
  border-color: #373b3e !important;
}

/* Table Striped */
[data-bs-theme="dark"] .table-striped > tbody > tr:nth-of-type(odd) > td {
  background-color: #1a1d20;
  color: #fff !important;
}

[data-bs-theme="dark"] .table-striped > tbody > tr:nth-of-type(even) > td {
  background-color: #212529;
  color: #fff !important;
}

/* Table Hover */
[data-bs-theme="dark"] .table-hover > tbody > tr:hover > td {
  background-color: #2c3034 !important;
  color: #fff !important;
}

[data-bs-theme="dark"] .table-hover > tbody > tr:hover {
  background-color: #2c3034 !important;
}

/* Table Responsive */
[data-bs-theme="dark"] .table-responsive {
  border-color: #373b3e;
}

/* ============================================
   Forms & Inputs - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .form-control,
[data-bs-theme="dark"] .form-select,
[data-bs-theme="dark"] .form-control:focus,
[data-bs-theme="dark"] .form-select:focus {
  background-color: #2b3035 !important;
  color: #fff !important;
  border-color: #495057 !important;
}

[data-bs-theme="dark"] .form-control:focus,
[data-bs-theme="dark"] .form-select:focus {
  border-color: #6c757d !important;
  box-shadow: 0 0 0 0.25rem rgba(108, 117, 125, 0.25) !important;
}

/* Placeholder text */
[data-bs-theme="dark"] .form-control::placeholder,
[data-bs-theme="dark"] .form-control::-webkit-input-placeholder,
[data-bs-theme="dark"] .form-control::-moz-placeholder,
[data-bs-theme="dark"] .form-control:-ms-input-placeholder {
  color: #adb5bd !important;
  opacity: 1;
}

/* Input Groups */
[data-bs-theme="dark"] .input-group-text {
  background-color: #2b3035 !important;
  color: #fff !important;
  border-color: #495057 !important;
}

[data-bs-theme="dark"] .input-group .form-control {
  border-color: #495057 !important;
}

/* Form Labels */
[data-bs-theme="dark"] .form-label {
  color: #e9ecef !important;
}

/* Form Text (help text) */
[data-bs-theme="dark"] .form-text {
  color: #adb5bd !important;
}

/* Checkboxes and Radio Buttons */
[data-bs-theme="dark"] .form-check-input {
  background-color: #2b3035;
  border-color: #495057;
}

[data-bs-theme="dark"] .form-check-input:checked {
  background-color: #0d6efd;
  border-color: #0d6efd;
}

[data-bs-theme="dark"] .form-check-label {
  color: #e9ecef !important;
}

/* ============================================
   Cards - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .card {
  background-color: #212529 !important;
  color: #fff !important;
  border: 1px solid #373b3e !important;
}

[data-bs-theme="dark"] .card-header {
  background-color: #1a1d20 !important;
  color: #fff !important;
  border-bottom-color: #373b3e !important;
}

[data-bs-theme="dark"] .card-body {
  color: #fff !important;
}

[data-bs-theme="dark"] .card-footer {
  background-color: #1a1d20 !important;
  border-top-color: #373b3e !important;
}

[data-bs-theme="dark"] .card-title,
[data-bs-theme="dark"] .card-subtitle {
  color: #fff !important;
}

[data-bs-theme="dark"] .card-text {
  color: #e9ecef !important;
}

/* ============================================
   Modals - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .modal-content {
  background-color: #212529 !important;
  color: #fff !important;
  border-color: #373b3e !important;
}

[data-bs-theme="dark"] .modal-header {
  background-color: #1a1d20 !important;
  border-bottom-color: #373b3e !important;
  color: #fff !important;
}

[data-bs-theme="dark"] .modal-title {
  color: #fff !important;
}

[data-bs-theme="dark"] .modal-body {
  color: #e9ecef !important;
}

[data-bs-theme="dark"] .modal-footer {
  background-color: #1a1d20 !important;
  border-top-color: #373b3e !important;
}

/* Close Button - Invert to white in dark mode */
[data-bs-theme="dark"] .btn-close {
  filter: invert(1) grayscale(100%) brightness(200%);
  opacity: 0.8;
}

[data-bs-theme="dark"] .btn-close:hover {
  opacity: 1;
}

/* ============================================
   Sidebar - Dark Mode Enhancements
   ============================================ */

[data-bs-theme="dark"] .sidebar a {
  color: #cbd5e1 !important;
}

[data-bs-theme="dark"] .sidebar a:hover,
[data-bs-theme="dark"] .sidebar a.active {
  background-color: #2c3034 !important;
  color: #fff !important;
}

[data-bs-theme="dark"] .sidebar .brand {
  color: #fff !important;
}

/* ============================================
   Alerts - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .alert {
  border-color: #373b3e !important;
}

[data-bs-theme="dark"] .alert-success {
  background-color: #0f5132;
  color: #d1e7dd;
  border-color: #146c43;
}

[data-bs-theme="dark"] .alert-danger {
  background-color: #842029;
  color: #f8d7da;
  border-color: #b02a37;
}

[data-bs-theme="dark"] .alert-warning {
  background-color: #664d03;
  color: #fff3cd;
  border-color: #997404;
}

[data-bs-theme="dark"] .alert-info {
  background-color: #055160;
  color: #cff4fc;
  border-color: #087990;
}

/* ============================================
   Badges - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .badge {
  color: #fff !important;
}

/* ============================================
   Dropdowns - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .dropdown-menu {
  background-color: #212529 !important;
  border-color: #373b3e !important;
}

[data-bs-theme="dark"] .dropdown-item {
  color: #e9ecef !important;
}

[data-bs-theme="dark"] .dropdown-item:hover,
[data-bs-theme="dark"] .dropdown-item:focus {
  background-color: #2c3034 !important;
  color: #fff !important;
}

[data-bs-theme="dark"] .dropdown-divider {
  border-color: #373b3e !important;
}

/* ============================================
   List Groups - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .list-group-item {
  background-color: #212529 !important;
  color: #fff !important;
  border-color: #373b3e !important;
}

[data-bs-theme="dark"] .list-group-item:hover,
[data-bs-theme="dark"] .list-group-item-action:hover {
  background-color: #2c3034 !important;
  color: #fff !important;
}

[data-bs-theme="dark"] .list-group-item.active {
  background-color: #0d6efd !important;
  border-color: #0d6efd !important;
}

/* ============================================
   Code Blocks - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] code {
  background-color: #1a1d20 !important;
  color: #e9ecef !important;
}

[data-bs-theme="dark"] pre {
  background-color: #1a1d20 !important;
  color: #e9ecef !important;
  border-color: #373b3e !important;
}

/* ============================================
   Navbar - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .navbar {
  background-color: #161b22 !important;
}

[data-bs-theme="dark"] .navbar-brand,
[data-bs-theme="dark"] .navbar-nav .nav-link {
  color: #e9ecef !important;
}

[data-bs-theme="dark"] .navbar-nav .nav-link:hover {
  color: #fff !important;
}

/* ============================================
   Pagination - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .page-link {
  background-color: #212529 !important;
  color: #e9ecef !important;
  border-color: #373b3e !important;
}

[data-bs-theme="dark"] .page-link:hover {
  background-color: #2c3034 !important;
  color: #fff !important;
  border-color: #495057 !important;
}

[data-bs-theme="dark"] .page-item.active .page-link {
  background-color: #0d6efd !important;
  border-color: #0d6efd !important;
}

[data-bs-theme="dark"] .page-item.disabled .page-link {
  background-color: #212529 !important;
  color: #6c757d !important;
}

/* ============================================
   Breadcrumbs - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .breadcrumb {
  background-color: #212529 !important;
}

[data-bs-theme="dark"] .breadcrumb-item a {
  color: #6c757d !important;
}

[data-bs-theme="dark"] .breadcrumb-item.active {
  color: #e9ecef !important;
}

/* ============================================
   Spinners - Dark Mode Styling
   ============================================ */

[data-bs-theme="dark"] .spinner-border {
  border-color: rgba(255, 255, 255, 0.1) !important;
  border-right-color: #fff !important;
}

/* ============================================
   Text Utilities - Dark Mode
   ============================================ */

[data-bs-theme="dark"] .text-muted {
  color: #adb5bd !important;
}

[data-bs-theme="dark"] .text-secondary {
  color: #6c757d !important;
}

/* ============================================
   Print Styles (Receipt) - Keep Light
   ============================================ */

@media print {
  [data-bs-theme="dark"] .receipt-content {
    background: white !important;
    color: black !important;
  }
}
